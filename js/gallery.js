"use strict";var galerry=document.querySelector("#grid"),project=document.querySelector("#popupProject"),closeProject=document.querySelector("#closePopupProject"),showImage=document.querySelector(".js-project__show"),controller=document.querySelector(".js-project__controller"),scrolled=void 0,timer=void 0,min=0,max=document.querySelectorAll(".js-grid__item").length-1,object_project={block:void 0,number:0,folder:"",images:[],position:0};function prevProject(){var e=+object_project.number-1;clearData(),clearController(),setDataImages(e>=min?document.querySelector('.js-grid__item[data-number="'+e+'"]'):document.querySelector('.js-grid__item[data-number="'+max+'"]')),setGallery()}function nextProject(){var e=+object_project.number+1;clearData(),clearController(),console.log(e);var t=e<=max?document.querySelector('.js-grid__item[data-number="'+e+'"]'):document.querySelector('.js-grid__item[data-number="'+min+'"]');console.log(t),setDataImages(t),setGallery()}function showPopupGallery(){closeProject.classList.remove("_none");var e=document.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop;scrolled=e,e>250?(scrollTop(e-project.clientHeight/2),project.setAttribute("style","top: "+(screen.height/2-project.clientHeight/2+100)+"px;")):project.setAttribute("style","top: "+(screen.height/2-project.clientHeight/2+100)+"px;"),project.classList.add("project_active")}function hidePopupGallery(){project.classList.remove("project_active"),closeProject.classList.add("_none"),clearData(),clearController()}function clearData(){object_project.block=void 0,object_project.number=0,object_project.folder="",object_project.images=[],object_project.position=0}function clearController(){controller.querySelector(".js-project-conten").innerHTML="",controller.classList.add("_none")}function scrollTop(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;scrolled>e?(window.scrollTo(e,scrolled),scrolled-=30,timer=setTimeout(function(){return scrollTop(e)},20)):clearTimeout(timer)}function setDataImages(e){object_project.block=e,object_project.number=object_project.block.dataset.number,object_project.folder=object_project.block.dataset.folder;for(var t=object_project.block.querySelectorAll(".js-grid__image"),o=0;o<t.length;o++)object_project.images.push(t[o].dataset.name)}function setGallery(){showImage.innerHTML='<img class="project__images" src="'+object_project.folder+"big/"+object_project.images[0]+'" />',object_project.images.length>1&&(controller.classList.remove("_none"),object_project.images.forEach(function(e,t){var o=document.createElement("img");o.className="project__controller_image "+(0==t?"project__controller_image_active":"")+" js-project__controller_image",o.src=object_project.folder+"small/"+e,o.dataset.number=t,document.querySelector(".js-project-conten").appendChild(o)}))}function checkImage(e){object_project.position=e.dataset.number,changeImage()}function prevImage(){object_project.position-=1,object_project.position<0&&(object_project.position=object_project.images.length-1),changeImage()}function nextImage(){object_project.position=+object_project.position+1,object_project.position>object_project.images.length-1&&(object_project.position=0),changeImage()}function changeImage(){document.querySelector(".project__controller_image_active").classList.remove("project__controller_image_active"),document.querySelectorAll(".js-project__controller_image")[object_project.position].classList.add("project__controller_image_active"),showImage.innerHTML='<img class="project__images"\n                        src="'+object_project.folder+"big/"+object_project.images[object_project.position]+'" />'}galerry.addEventListener("click",function(e){var t=e.target;t.classList.contains("js-grid__image")&&(object_project.block=t.parentNode,showPopupGallery(),setDataImages(t.parentNode),setGallery())},!0),closeProject.addEventListener("click",function(){return hidePopupGallery()}),project.addEventListener("click",function(e){var t=e.target;t.classList.contains("js-project__prev")?prevProject():t.classList.contains("js-project__next")&&nextProject()}),controller.addEventListener("click",function(e){var t=e.target;t.classList.contains("js-controller-prev")?prevImage():t.classList.contains("js-controller-next")?nextImage():t.classList.contains("js-project__controller_image")&&checkImage(t)});