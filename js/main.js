"use strict";void 0===Element.prototype.addEventListener&&(Element.prototype.addEventListener=function(e,t){return e="on"+e,this.attachEvent(e,t)});var start_nav=document.querySelector(".js-start-nav");function hideStartMenu(){start_nav.classList.add("js-start-nav_none");for(var e=[start_nav.children,0],t=e[0],o=e[1],r=0;r<t.length;r++)++o%2==1?t[r].classList.add("js-start-nav_none-l"):t[r].classList.add("js-start-nav_none-r")}start_nav.addEventListener("click",function(e){for(var t=e.target,o=void 0;(t=t.parentNode)&&!(o=t.getAttribute("id")););o&&(hidePreloader(),start_nav.classList.add("js-start-nav_none"),setTimeout(function(){hideStartMenu(),document.getElementById("content_"+o).classList.remove("_none")},2e3),showPreloader())});var main_nav=document.querySelector(".js-nav_click");main_nav.addEventListener("click",showMenu);for(var content=document.querySelectorAll(".content"),nav=document.querySelectorAll(".js-nav__item-link"),i=0;i<nav.length;i++)nav[i].addEventListener("click",function(e){var t=e.target.dataset.value;if("home"==t)hideContent();else{hidePreloader();for(var o=0;o<content.length;o++)content[o].classList.add("_none");start_nav.children[0].classList.contains("js-start-nav_none-l")||hideStartMenu(),setTimeout(function(){document.getElementById("content_"+t).classList.remove("_none"),"project"==t&&startMasonry()},4e3),showPreloader()}showMenu()});for(var _i2=0;_i2<content.length;_i2++)content[_i2].addEventListener("click",function(){document.querySelector(".js-nav").classList.contains("nav_active")&&showMenu()});function showMenu(){document.querySelector(".js-nav").classList.toggle("nav_active"),main_nav.querySelector(".js-nav_click__line").classList.toggle("nav_click__line_active"),main_nav.classList.toggle("nav_click_active")}function hideContent(){content.forEach(function(e){e.classList.add("_none")}),start_nav.classList.remove("js-start-nav_none");for(var e=[start_nav.children,0],t=e[0],o=e[1],r=0;r<t.length;r++)++o%2==1?t[r].classList.remove("js-start-nav_none-l"):t[r].classList.remove("js-start-nav_none-r")}function startMasonry(){new Masonry(".js-grid",{itemSelector:".js-grid__item",columnWidth:".js-grid__item",percentPosition:!0})}var projects=document.querySelector(".js-grid_project");projects.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("js-grid__item_img")){var o=t.getAttribute("id");showPopUpProgect(o=+o.substring(o.indexOf("-")+1,o.length))}});var popup=document.querySelector(".js-project__popup");function showPopUpProgect(e){popup.classList.add("_show"),showPopUpImage(e)}function showPopUpImage(e){var t=document.querySelector("#project_item-"+e),o=t.getAttribute("src");document.querySelector(".js-project__popup_img-i").setAttribute("src",o),document.querySelector(".js-project__popup_number-img").innerHTML=+e;var r=t.parentNode.querySelectorAll(".js-grid__item_img");if(r.length>1){document.querySelector(".js-project__popup_scroll").classList.remove("_none");var s="";s+='<div class="project__popup_scroll__prev js-project__popup_scroll__prev">\n                                        <span class="project__popup_scroll__prev_line js-project__popup_scroll__prev"></span>\n                                </div>',s+='<div class="project__popup_scroll__item">\n                                        <img class="project__popup_scroll__item_img js-project__popup_scroll__item_img project__popup_scroll__item_img_active" src="'+r[0].src+'" data-number="0"/>\n                                </div>';for(var _=1;_<r.length;_++)s+='<div class="project__popup_scroll__item">\n                                        <img class="project__popup_scroll__item_img js-project__popup_scroll__item_img" src="'+r[_].src+'" data-number="'+_+'"/>\n                                </div>';s+='<div class="project__popup_scroll__next js-project__popup_scroll__next">\n                                        <span class="project__popup_scroll__next_line js-project__popup_scroll__next"></span>\n                                </div>',document.querySelector(".js-project__popup_scroll-i").innerHTML=s}else document.querySelector(".js-project__popup_scroll").classList.add("_none")}function showPreloader(){setTimeout(function(){var e=document.querySelector(".js-preloader");e.classList.add("preloader_fadeout"),e.classList.remove("preloader_fadein"),document.querySelector("#preloader-svg").classList.remove("preloader__logo-svg")},4e3)}function hidePreloader(){var e=document.querySelector(".js-preloader");document.querySelector("#preloader-svg").classList.add("preloader__logo-svg"),e.classList.add("preloader_fadein"),e.classList.remove("preloader_fadeout")}popup.addEventListener("click",function(e){var t=e.target,o=document.querySelectorAll(".js-grid__item_img"),r=o[0].getAttribute("id"),s=o[o.length-1].getAttribute("id");if(r=+r.substring(r.indexOf("-")+1,r.length),s=+s.substring(s.indexOf("-")+1,s.length),t.classList.contains("js-project__popup_close")&&(popup.classList.remove("_show"),document.querySelector(".js-project__popup_scroll").classList.add("_none")),t.classList.contains("js-project__popup_prev")){var _=+document.querySelector(".js-project__popup_number-img").innerHTML;showPopUpImage(_!=r?_-1:s)}if(t.classList.contains("js-project__popup_next")){var c=+document.querySelector(".js-project__popup_number-img").innerHTML;showPopUpImage(c!=s?c+1:r)}if(t.classList.contains("js-project__popup_scroll__item_img")&&(document.querySelector(".js-project__popup_img-i").setAttribute("src",t.src),t.parentNode.parentNode.querySelector(".project__popup_scroll__item_img_active").classList.remove("project__popup_scroll__item_img_active"),t.classList.add("project__popup_scroll__item_img_active")),t.classList.contains("js-project__popup_scroll__prev")){var n=document.querySelectorAll(".js-project__popup_scroll__item_img"),i=+n[0].dataset.number,p=+n[n.length-1].dataset.number,a=+document.querySelector(".project__popup_scroll__item_img_active").dataset.number,l=void 0;(l=a!=i?document.querySelector('.project__popup_scroll__item_img[data-number="'+(a-1)+'"]'):document.querySelector('.project__popup_scroll__item_img[data-number="'+p+'"]')).classList.add("project__popup_scroll__item_img_active"),document.querySelector('.project__popup_scroll__item_img[data-number="'+a+'"]').classList.remove("project__popup_scroll__item_img_active"),document.querySelector(".js-project__popup_img-i").setAttribute("src",l.src)}if(t.classList.contains("js-project__popup_scroll__next")){var u=document.querySelectorAll(".js-project__popup_scroll__item_img"),d=+u[0].dataset.number,m=+u[u.length-1].dataset.number,v=+document.querySelector(".project__popup_scroll__item_img_active").dataset.number,j=void 0;(j=v!=m?document.querySelector('.project__popup_scroll__item_img[data-number="'+(v+1)+'"]'):document.querySelector('.project__popup_scroll__item_img[data-number="'+d+'"]')).classList.add("project__popup_scroll__item_img_active"),document.querySelector('.project__popup_scroll__item_img[data-number="'+v+'"]').classList.remove("project__popup_scroll__item_img_active"),document.querySelector(".js-project__popup_img-i").setAttribute("src",j.src)}}),window.onload=function(){return showPreloader()};