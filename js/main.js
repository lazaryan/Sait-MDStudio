"use strict";void 0===Element.prototype.addEventListener&&(Element.prototype.addEventListener=function(e,t){return e="on"+e,this.attachEvent(e,t)});let start_nav=document.querySelector(".js-start-nav");start_nav.addEventListener("click",function(e){let t,o=e.target;for(;(o=o.parentNode)&&!(t=o.getAttribute("id")););t&&(hidePreloader(),start_nav.classList.add("js-start-nav_none"),setTimeout(function(){let e=start_nav.children,o=0;for(let t=0;t<e.length;t++)++o%2==1?e[t].classList.add("js-start-nav_none-l"):e[t].classList.add("js-start-nav_none-r");document.getElementById("content_"+t).classList.remove("_none")},2e3),showPreloader())});let main_nav=document.querySelector(".js-nav_click");main_nav.addEventListener("click",showMenu);let content=document.querySelectorAll(".content"),nav=document.querySelectorAll(".js-nav__item-link");for(let e=0;e<nav.length;e++)nav[e].addEventListener("click",function(e){let t=e.target.dataset.value;if("home"==t)hideContent();else{hidePreloader();for(let e=0;e<content.length;e++)content[e].classList.add("_none");setTimeout(function(){document.getElementById("content_"+t).classList.remove("_none"),"project"==t&&startMasonry()},4e3),showPreloader()}showMenu()});for(let e=0;e<content.length;e++)content[e].addEventListener("click",function(){document.querySelector(".js-nav").classList.contains("nav_active")&&showMenu()});function showMenu(){document.querySelector(".js-nav").classList.toggle("nav_active"),main_nav.querySelector(".js-nav_click__line").classList.toggle("nav_click__line_active"),main_nav.classList.toggle("nav_click_active")}function hideContent(){content.forEach(function(e){e.classList.add("_none")}),start_nav.classList.remove("js-start-nav_none");let e=start_nav.children,t=0;for(let o=0;o<e.length;o++)++t%2==1?e[o].classList.remove("js-start-nav_none-l"):e[o].classList.remove("js-start-nav_none-r")}function startMasonry(){new Masonry(".js-grid",{itemSelector:".js-grid__item",columnWidth:".js-grid__item",percentPosition:!0})}let projects=document.querySelector(".js-grid_project");projects.addEventListener("click",function(e){let t=e.target;if(t.classList.contains("js-grid__item_img")){let e=t.getAttribute("id");showPopUpProgect(e=+e.substring(e.indexOf("-")+1,e.length))}});let popup=document.querySelector(".js-project__popup");function showPopUpProgect(e){popup.classList.add("_show"),showPopUpImage(e)}function showPopUpImage(e){let t=document.querySelector("#project_item-"+e),o=t.getAttribute("src");document.querySelector(".js-project__popup_img-i").setAttribute("src",o),document.querySelector(".js-project__popup_number-img").innerHTML=+e;let r=t.parentNode.querySelectorAll(".js-grid__item_img");if(r.length>1){document.querySelector(".js-project__popup_scroll").classList.remove("_none");let e="";e+='<div class="project__popup_scroll__prev js-project__popup_scroll__prev"><span class="project__popup_scroll__prev_line js-project__popup_scroll__prev"></span></div>',e+='<div class="project__popup_scroll__item"><img class="project__popup_scroll__item_img js-project__popup_scroll__item_img project__popup_scroll__item_img_active" src="'+r[0].src+'" data-number="0"/></div>';for(let t=1;t<r.length;t++)e+='<div class="project__popup_scroll__item"><img class="project__popup_scroll__item_img js-project__popup_scroll__item_img" src="'+r[t].src+'" data-number="'+t+'"/></div>';e+='<div class="project__popup_scroll__next js-project__popup_scroll__next"><span class="project__popup_scroll__next_line js-project__popup_scroll__next"></span></div>',document.querySelector(".js-project__popup_scroll-i").innerHTML=e}else document.querySelector(".js-project__popup_scroll").classList.add("_none")}function showPreloader(){setTimeout(function(){let e=document.querySelector(".js-preloader");e.classList.add("preloader_fadeout"),e.classList.remove("preloader_fadein"),document.querySelector("#preloader-svg").classList.remove("preloader__logo-svg")},4e3)}function hidePreloader(){let e=document.querySelector(".js-preloader");document.querySelector("#preloader-svg").classList.add("preloader__logo-svg"),e.classList.add("preloader_fadein"),e.classList.remove("preloader_fadeout")}popup.addEventListener("click",function(e){let t=e.target,o=document.querySelectorAll(".js-grid__item_img"),r=o[0].getAttribute("id"),_=o[o.length-1].getAttribute("id");if(r=+r.substring(r.indexOf("-")+1,r.length),_=+_.substring(_.indexOf("-")+1,_.length),t.classList.contains("js-project__popup_close")&&(popup.classList.remove("_show"),document.querySelector(".js-project__popup_scroll").classList.add("_none")),t.classList.contains("js-project__popup_prev")){let e=+document.querySelector(".js-project__popup_number-img").innerHTML;showPopUpImage(e!=r?e-1:_)}if(t.classList.contains("js-project__popup_next")){let e=+document.querySelector(".js-project__popup_number-img").innerHTML;showPopUpImage(e!=_?e+1:r)}if(t.classList.contains("js-project__popup_scroll__item_img")&&(document.querySelector(".js-project__popup_img-i").setAttribute("src",t.src),t.parentNode.parentNode.querySelector(".project__popup_scroll__item_img_active").classList.remove("project__popup_scroll__item_img_active"),t.classList.add("project__popup_scroll__item_img_active")),t.classList.contains("js-project__popup_scroll__prev")){let e,t=document.querySelectorAll(".js-project__popup_scroll__item_img"),o=+t[0].dataset.number,r=+t[t.length-1].dataset.number,_=+document.querySelector(".project__popup_scroll__item_img_active").dataset.number;(e=_!=o?document.querySelector('.project__popup_scroll__item_img[data-number="'+(_-1)+'"]'):document.querySelector('.project__popup_scroll__item_img[data-number="'+r+'"]')).classList.add("project__popup_scroll__item_img_active"),document.querySelector('.project__popup_scroll__item_img[data-number="'+_+'"]').classList.remove("project__popup_scroll__item_img_active"),document.querySelector(".js-project__popup_img-i").setAttribute("src",e.src)}if(t.classList.contains("js-project__popup_scroll__next")){let e,t=document.querySelectorAll(".js-project__popup_scroll__item_img"),o=+t[0].dataset.number,r=+t[t.length-1].dataset.number,_=+document.querySelector(".project__popup_scroll__item_img_active").dataset.number;(e=_!=r?document.querySelector('.project__popup_scroll__item_img[data-number="'+(_+1)+'"]'):document.querySelector('.project__popup_scroll__item_img[data-number="'+o+'"]')).classList.add("project__popup_scroll__item_img_active"),document.querySelector('.project__popup_scroll__item_img[data-number="'+_+'"]').classList.remove("project__popup_scroll__item_img_active"),document.querySelector(".js-project__popup_img-i").setAttribute("src",e.src)}}),window.onload=function(){showPreloader()};