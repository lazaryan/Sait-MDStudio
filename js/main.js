let start_nav=document.querySelector(".js-start-nav");start_nav.addEventListener("click",function(e){let t,o=e.target;for(;(o=o.parentNode)&&!(t=o.getAttribute("id")););t&&(hidePreloader(),start_nav.classList.add("js-start-nav_none"),setTimeout(function(){let e=start_nav.children,o=0;for(let t=0;t<e.length;t++)++o%2==1?e[t].classList.add("js-start-nav_none-l"):e[t].classList.add("js-start-nav_none-r");document.getElementById("content_"+t).classList.remove("_none")},800),showPreloader())});let main_nav=document.querySelector(".js-nav_click");main_nav.addEventListener("click",showMenu);let content=document.querySelectorAll(".content"),nav=document.querySelectorAll(".js-nav__item-link");function showMenu(){document.querySelector(".js-nav").classList.toggle("nav_active"),main_nav.querySelector(".js-nav_click__line").classList.toggle("nav_click__line_active"),main_nav.classList.toggle("nav_click_active")}function hideContent(){content.forEach(function(e){e.classList.add("_none")}),start_nav.classList.remove("js-start-nav_none");let e=start_nav.children,t=0;for(let o=0;o<e.length;o++)++t%2==1?e[o].classList.remove("js-start-nav_none-l"):e[o].classList.remove("js-start-nav_none-r")}function startMasonry(){new Masonry(".js-grid",{itemSelector:".js-grid__item",columnWidth:".js-grid__item",percentPosition:!0})}nav.forEach(e=>{e.addEventListener("click",function(e){let t=e.target.dataset.value;if("home"==t)hideContent();else{hidePreloader(),document.querySelectorAll(".content").forEach(function(e){e.classList.add("_none")}),setTimeout(function(){document.getElementById("content_"+t).classList.remove("_none"),"project"==t&&startMasonry()},700),showPreloader()}showMenu()})}),content.forEach(e=>{e.addEventListener("click",function(){document.querySelector(".js-nav").classList.contains("nav_active")&&showMenu()})});let projects=document.querySelector(".js-grid_project");projects.addEventListener("click",function(e){let t=e.target;if(t.classList.contains("js-grid__item_img")){let e=t.getAttribute("id");showPopUpProgect(e=+e.substring(e.indexOf("-")+1,e.length))}});let popup=document.querySelector(".js-project__popup");function showPopUpProgect(e){popup.classList.add("_show"),showPopUpImage(e)}function showPopUpImage(e){let t=document.querySelector("#project_item-"+e),o=t.getAttribute("src");document.querySelector(".js-project__popup_img-i").setAttribute("src",o),document.querySelector(".js-project__popup_number-img").innerHTML=+e;let n=t.parentNode.querySelectorAll(".js-grid__item_img");if(n.length>1){document.querySelector(".js-project__popup_scroll").classList.remove("_none");let e="";e+='<div class="project__popup_scroll__prev"><span class="project__popup_scroll__prev_line"></span></div>';for(let t=0;t<n.length;t++)e+='<div class="project__popup_scroll__item"><img class="project__popup_scroll__item_img" src="'+n[t].src+'" data-number="'+t+'"/></div>';e+='<div class="project__popup_scroll__next"><span class="project__popup_scroll__next_line"></span></div>',document.querySelector(".js-project__popup_scroll-i").innerHTML=e}else document.querySelector(".js-project__popup_scroll").classList.add("_none")}function showPreloader(){setTimeout(function(){let e=document.querySelector(".js-preloader");e.classList.add("preloader_fadeout"),e.classList.remove("preloader_fadein"),document.querySelector("#preloader-svg").classList.remove("preloader__logo-svg")},2e3)}function hidePreloader(){let e=document.querySelector(".js-preloader");document.querySelector("#preloader-svg").classList.add("preloader__logo-svg"),e.classList.add("preloader_fadein"),e.classList.remove("preloader_fadeout")}popup.addEventListener("click",function(e){let t=e.target,o=document.querySelectorAll(".js-grid__item_img"),n=o[0].getAttribute("id"),s=o[o.length-1].getAttribute("id");if(n=+n.substring(n.indexOf("-")+1,n.length),s=+s.substring(s.indexOf("-")+1,s.length),t.classList.contains("js-project__popup_close")&&(popup.classList.remove("_show"),document.querySelector(".js-project__popup_scroll").classList.add("_none")),t.classList.contains("js-project__popup_prev")){let e=+document.querySelector(".js-project__popup_number-img").innerHTML;showPopUpImage(e!=n?e-1:s)}if(t.classList.contains("js-project__popup_next")){let e=+document.querySelector(".js-project__popup_number-img").innerHTML;showPopUpImage(e!=s?e+1:n)}}),window.onload=function(){showPreloader()};